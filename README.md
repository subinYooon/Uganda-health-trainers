# 리드미 - 박지유

# Configuration 클래스

본 프로젝트는 주어진 **차수 시퀀스**를 정확히 만족하는 **Configuration 모델** 네트워크를 생성하기 위한 클래스를 제공한다.

Configuration 모델은 원본 네트워크의 차수 분포만을 유지하면서 나머지 구조는 무작위화한 그래프를 생성할 때 활용된다.

해당 코드는 다음과 같은 알고리즘을 갖는다.

1. __init__ 함수
    1. 입력 받은 원본 그래프(G)에 대해서 차수 배열(degree_seq)을 도출한다.
2. create_config_graph 함수
    1. 차수 배열에 따른 stub_list를 생성한다.
        1. 이때 만약 stub_list의 길이가 홀수인 경우 마지막 노드를 하나 더 추가하여 길이를 짝수로 맞춘다.
    2. 모든 stub_list의 값을 소진할 때까지 랜덤으로 노드 2개를 뽑아 연결을 고려한다.
3. n_repeat 함수
    1. 입력 받은 반복 개수(num_simulations)만큼 create_config_graph 함수를 생성한다.
    2. num_simulations번 만큼 생성된 configuration 모델은 config_models 리스트에 append 된다.
4. cal_dist 함수
    1. 원본 그래프의 차수 분포를 계산한다.
    2. config_models의 configuration의 평균 차수 분포를 계산한다.
5. draw_histogram 함수
    1. 계산된 원본 그래프와 configuration 그래프의 차수 분포를 통해 히스토그램을 그린다.

결과적으로, 실제 네트워크의 차수 분포를 그대로 재현한 configuration 모델의 차수 분포 히스토그램을 통해 실제 네트워크의 구조에서 차수 분포의 중요도와 연결의 무작위성을 확인해볼 수 있다.

# 리드미 - 이윤지

# ER (Erdős–Rényi) 클래스

본 클래스는 **실제 네트워크 ($G$)**의 노드 수 ($N$)와 엣지 수 ($M$)를 기반으로 **Erdős–Rényi (ER) 랜덤 그래프 모델**을 생성하고 분석하는 기능을 제공한다. ER 모델은 균일한 무작위 연결을 특징으로 하며, 차수 분포는 
**포아송 분포**를 따른다.

---

## 1. 클래스 개요 및 알고리즘

| 구분 | 내용 |
| --- | --- |
| **목적** | 실제 네트워크와 ER 랜덤 그래프의 **차수 분포 유사성**을 비교 분석하여, 실제 네트워크의 구조적 특성(허브, 군집)을 가지는지 검증한다. |
| **모델 메커니즘** | **균일한 무작위성 (Uniform Randomness)** |
| **특징** | 생성된 네트워크의 차수 분포는 **포아송 분포**를 따르며, 허브가 크게  발달하지 않는다. |

### 1-1. `__init__` 함수 (클래스 초기화)

- **역할:** 클래스 초기화 및 파라미터 설정이다.
- 입력받은 원본 네트워크 $(G)$의 노드 수 $($$N)$와 엣지 수 $(M)$를 파악한다.
- ER 모델의 유형(`mode`)을  $G(N, P)$ 또는 **$G(N, M)$** 중 하나로 설정한다.
    - `mode="gnp"`: 노드 수 $N$과 엣지 생성 확률 $P$를 사용한다.
    - `mode="gnm"`: 노드 수 $N$과 엣지 수 $M$을 사용한다.

### 1-2. ER 모델 생성 로직

| 함수 | 모델 | 알고리즘 |
| --- | --- | --- |
| `gnp_random_graph(N, p)` | **$G(N, P)$** | 가능한 모든 노드 쌍에 대해 **확률  $p$**로 엣지를 무작위로 추가한다. |
| `gnm_random_graph(N, M)` | **$G(N, M)$** | 가능한 모든 엣지 중  $M$**개**를 무작위로 선택하여 추가한다. |

---

## 2. 주요 메서드 설명

### `n_repeat(self)`

- **기능:** `num_simulations` 횟수만큼 ER 모델을 반복 생성한다.
- **파라미터 설정:**  $G(N, P)$ 모드일 경우, 원본 네트워크의 엣지 밀도 $\rho$를 사용하여 $p$를 설정한다. $G(N, M)$ 모드일 경우, 원본 엣지 수 $M$을 사용한다.

### `cal_dist(self)`

- **기능:** 원본 네트워크 및 생성된 ER 모델들의 차수 분포 $P(k)$를 계산한다.

### `draw_histogram(self)`

- **기능:** 원본 네트워크와 ER 모델의 평균 차수 분포를 비교하는 히스토그램을 출력한다.
- **분석 관점:** ER 모델은 중앙에 피크가 있는 **좁은 종 모양의 분포**를 보이며, 이는 실제 네트워크의 
heavy-tailed한 구조를 제대로 모사하지 못함을 보여준다.

---

# BA (Barabási–Albert) 클래스

본 클래스는 실제 네트워크 $(G)$의 크기와 평균 차수를 기반으로 Barabási–Albert (BA) 척도 없는 네트워크 모델을 생성하고 분석한다. BA 모델은 **성장**과 **선호적 연결** 메커니즘을 통해 멱법칙 차수 분포 
$P(k) \propto k^{-\beta}$를 재현한다.

---

## 1. 클래스 개요 및 알고리즘

| 구분 | 내용 |
| --- | --- |
| **목적** | 실제 네트워크와 비교하여 BA 모델의 차수 분포 유사성 및 멱법칙 지수($\beta$) 적합성을 검증한다. |
| **모델 메커니즘** | 성장 및 선호적 연결 |
| **특징** | 생성된 네트워크는 멱법칙 차수 분포($\beta \approx 3$)를 따르는 Scale-Free 속성을 갖는다. |

### 1-1. `__init__` 함수

- **역할:** 클래스 초기화 및 파라미터 설정이다.
- 입력받은 원본 네트워크 $G$의 크기를 기반으로 BA 모델의 파라미터  $N$ (노드 수), $M$  (엣지 수), 
$m$ (연결할 엣지 수),  $m0$ (초기 노드 수)를 설정한다.

### 1-2. `ba_random_graph` 함수 (BA 모델 생성 로직)

1. **초기화:** $m0$ 개의 노드로 구성된 완전 그래프를 생성한다.
2. **성장:** 총 노드 수 $N$에 도달할 때까지 노드를 하나씩 추가한다.
3. **선호적 연결:** 새로운 노드는 기존 노드 중 **차수($k_i$)에 비례**하여  $m$개의 대상 노드를 선택하고 
연결한다 ($P ∝ k_i$).

---

## 2. 주요 메서드 설명

### `n_repeat(self)`

- **기능:** `num_simulations` 횟수만큼 BA 모델을 반복 생성한다.

### `cal_dist(self)`

- **기능:** 원본 네트워크 및 생성된 BA 모델들의 차수 분포($P(k)$)를 계산한다.

### `draw_histogram(self)`

- **기능:** 원본 네트워크와 BA 모델의 평균 차수 분포를 비교하는 히스토그램을 출력한다.
    - **분석 관점:** BA 모델은 선호적 연결로 인해 **허브가 과도하게 형성**되어, 실제 네트워크보다 
    높은 차수 쪽에서 heavy-tailed한 구조를 보인다.

### `fit_beta(self, sample_graph=None, kmin=3)`

- **기능:** 주어진 그래프의 차수 분포에 대해 **멱법칙 피팅($P(k) \propto k^{-\beta}$)**을 수행하고 $\beta$ 값을 계산한다.
- **출력:** 1. **로그-로그 스케일**의 산점도와 피팅 회귀선 그래프를 출력한다.
2. 피팅 파라미터 a와 멱법칙 지수 $\beta$(b_hat)를 반환한다.
- **활용:** 이 함수를 원본 네트워크($G$)와 BA 모델 모두에 적용하여 두 네트워크의 $\beta$ 값을 비교 분석할 수 있다.

---

# 중심성 지표 비교 (Closeness Centrality) 분석

본 코드는 실제 네트워크와 ER, Configuration, Chung-Lu 모델의 **Closeness Centrality** 분포를 계산하고 박스 플롯으로 비교한다.

---

### 1. 분석 개요

| 구분 | 내용 |
| --- | --- |
| **분석 지표** | Closeness Centrality 이다. |
| **지표 의미** | 네트워크 내에서 한 노드가 다른 모든 노드에 얼마나 **빠르게** 도달할 수 있는지를 나타내는 지표다. |
| **비교 대상** | **Original** (원본 네트워크) 및 세 가지 랜덤 그래프 모델이다. |
| **목표** | 각 모델별 **중심성 분포의 유사성**을 비교하여, 원본 네트워크의 연결 패턴이 단순 무작위성을 넘어선 구조적 특성을 갖는지 확인한다. |

### 2. 주요 함수

- **`boxplot_closeness_same_style`**: 네 가지 네트워크의 근접 중심성 값을 계산하고 박스 플롯으로 시각화하는 메인 함수이다.
- **분석 관점**: 박스 플롯을 통해 중심성의 **중앙값**과 **분포 범위**를 비교한다.
# README - 윤수빈

## 1. 주요 기능 및 알고리즘

### 📄 `degree_centerailty.py`

이 코드는 실제 네트워크($G$)와 세 가지 무작위 네트워크 모델(ER, Chung-Lu, Configuration)을 생성하고, 이들의 **연결 정도 중심성(Degree Centrality)** 분포를 계산하여 박스 플롯으로 비교하는 기능을 제공합니다.

| 구분 | 내용 |
| :--- | :--- |
| **목적** | 서로 다른 무작위 네트워크 모델이 실제 네트워크와 얼마나 유사한 연결 정도 분포를 갖는지 시각적으로 비교합니다. |
| **중심성 지표** | 연결 정도 중심성 (Degree Centrality) |
| **네트워크 모델** | ER(Erdos-Renyi), Chung-Lu, Configuration |

#### 1-1. 랜덤 그래프 생성 함수

* `create_chung_lu_graph(G)`: 원본 그래프의 **기대 차수**를 보존하며 무작위로 엣지를 연결합니다.
* `gnp_random_graph(N, p)`: 노드 수 $N$과 엣지 연결 확률 $p$를 사용하여 **ER 그래프**를 생성합니다.
* `create_config_graph(degree_seq)`: 원본 그래프의 **정확한 차수 시퀀스**를 보존하는 **Configuration 모델**을 생성합니다.

#### 1-2. 중심성 비교 및 시각화

* `plot_degree_boxplot`: 중심성 값 리스트를 받아 일관된 스타일의 **박스 플롯**으로 시각화합니다.
* `boxplot_degree_same_style`: 네 가지 그래프(Original, ER, Config, Chung-Lu)의 연결 정도 중심성을 계산하고, 이를 비교하는 박스 플롯을 생성합니다.

---

### 📄 `chung_lu.py`

이 코드는 실제 네트워크를 기반으로 **Chung-Lu(CL) 무작위 네트워크 모델**을 반복 생성하고, 두 네트워크의 **차수 분포($P(k)$)**를 비교 분석하는 `chung_lu_model` 클래스를 제공합니다.

| 구분 | 내용 |
| :--- | :--- |
| **목적** | Chung-Lu 모델이 실제 네트워크의 차수 분포를 얼마나 잘 재현하는지 통계적으로 검증합니다. |
| **CL 모델 특징** | 각 노드의 **기대 차수**를 원본 네트워크와 동일하게 유지하도록 엣지 연결 확률 $P_{ij} \propto k_i k_j$를 설정합니다. |
| **앙상블** | `num_simul` 횟수만큼 모델을 반복 생성하여 통계적 신뢰도를 높입니다. |

#### 1-1. 주요 메서드 설명

* `load_graph(self)`: 지정된 CSV 파일에서 실제 네트워크를 로드하고, 실제 노드들의 차수 배열을 추출합니다.
* `create_chung_lu_graph(self)`: Chung-Lu 모델을 생성하는 핵심 로직이며, $P_{ij} = \min(1.0, \frac{k_i k_j}{\sum k})$ 확률에 따라 엣지를 연결합니다.
* `generate_ensemble(self)`: `num_simul` 횟수만큼 CL 모델을 반복 생성하여 저장합니다.
* `calculate_distributions(self)`: 원본 네트워크와 CL 모델 앙상블의 차수 분포를 각각 계산합니다.
* `draw_comparison(self)`: 원본 네트워크와 CL 모델 앙상블의 **평균 차수 분포**를 하나의 **히스토그램**으로 그려 시각적으로 비교합니다.

## 2. 실행 예시

```python
# chung_lu.py 실행 예시
cl_model = chung_lu_model('/Users/yoonsubin/Documents/2025/network_pj/data/uganda health data', num_simul=100)

cl_model.load_graph()
cl_model.generate_ensemble()
cl_model.calculate_distributions()

cl_model.draw_comparison()
